#builtin("Unit")
struct Unit {}

#builtin("I32")
type I32

#builtin("Runtime")
type Runtime

#builtin("Bool")
enum Bool {
    false: Unit,
    true: Unit,
}

struct Foo {
    member: Unit,
}

fn main(runtime: Runtime) {
    print_i32(5, runtime)
    print_i32(10, runtime)

    // declaring variables
    let foo: Foo = Foo {
        member: Unit {},
    }

    // reassigning variables
    foo = Foo {
        member: {}, // shorter way to construct the Unit type, just make the compiler do it for you
    }

    foo.member
}

// below main to prove that out-of-order declarations work
#builtin("print_i32")
fn print_i32(value: I32, runtime: Runtime)

// recursive functions work
fn recursive() {
    recursive()
}

// mutually recursive functions work
fn a() {
    b()
}

fn b() {
    a()
}

struct A {}

struct B {
    a: A,
}

fn match_testing(b: B) -> A {
    match b {
        B { a: let a: A } => a,
    }
}

fn bool_testing(cond: Bool) -> I32 {
    match cond {
        Bool { false: Unit {} } => 0,
        Bool { true: Unit {} } => 1,
    }
}

fn more_bool_testing(cond: Bool) -> I32 {
    if cond {
        1
    } else {
        0
    }
}
